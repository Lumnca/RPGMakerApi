js文件夹下rpg_sprites.js为游戏精灵对象文件，是各种图像实例精灵的对象。RPGMaker的图像处理是采用PIXI.js处理的。所以很多api可以参考PIXI.js的方法。其对PIXI.js进行二次封装，原型为Sprite，可参考RPGMaker汉化js库手册方法： http://ydq-egoist.com/API/RMMV/index.html

### <a href="#p1"> Sprite_Base 类</a> ###


### <a href="#p2"> Sprite_Button 类</a> ###

### <a href="#p3"> Sprite_Character 类</a> ###

### <a href="#p4"> Sprite_Battler 类</a> ###

### <a href="#p5">  Sprite_Actor 类</a> ###

### <a href="#p6">Sprite_Enemy 类</a> ###

### <a href="#p7">Sprite_Animation 类</a> ###

### <a href="#p8">Sprite_Damage 类</a> ###

### <a href="#p9">Sprite_StateIcon 类</a> ###

### <a href="#p10">Sprite_StateOverlay 类</a> ###

### <a href="#p11">Sprite_Weapon类</a> ###

### <a href="#p12">Sprite_Balloon类</a> ###

### <a href="#p13"> Sprite_Picture类</a> ###

### <a href="#p14"> Sprite_Timer类</a> ###

### <a href="#p15">  Sprite_Destination类</a> ###

### <a href="#p16">  Spriteset_Base类</a> ###

### <a href="#p17">  Spriteset_Map类</a> ###

### <a href="#p18">  Spriteset_Battle类</a> ###

 
***
<p id="p1"></p>

## Sprite_Base 

Sprite_Base 是精灵基础类。继承于Sprite类。

**update()** : 每帧更新方法

**hide()** : 隐藏精灵

**show()** : 显示精灵

**updateVisibility()** : 更新隐藏显示状态

**updateAnimationSprites()** : 更新动画显示精灵

**startAnimation(animation, mirror, delay)** ： 开始播放动画

[animation]

[mirror]

[delay]

**isAnimationPlaying()** : 是否有动画在播放。

Sprite_Base 若要添加显示，需要添加到场景子元素才可显示，注意Sprite中添加bitmap图像才能够显示图片：

```js
function Scene_MySelf() {
    this.initialize.apply(this, arguments);
}

Scene_MySelf.prototype = Object.create(Scene_Base.prototype);
Scene_MySelf.prototype.constructor = Scene_MySelf;

Scene_MySelf.prototype.initialize = function () {
    Scene_Base.prototype.initialize.call(this);
};

Scene_MySelf.prototype.create = function () {
    Scene_Base.prototype.create.call(this);
    let m  = new Sprite_Base()
    m.bitmap = ImageManager.loadSystem('GameOver'); //显示System文件下的GameOver图像
    this.addChild(m); //添加到场景中
}
```

***
<p id="p2"></p>

##  Sprite_Button

Sprite_Button是游戏中按钮精灵的对象类。可以生成一个有点击效果的按钮事件。

**setColdFrame(x, y, width, height)** : 按钮没有点击时候的图片显示区域

[x:Number] : 按钮图片的x起始坐标点

[y:Number] : 按钮图片的y起始坐标点

[width:Number] : 需要从起始点显示的宽度

[height:Number] : 需要从起始点显示的高度

**setHotFrame(x, y, width, height)** : 按钮点击时的图片显示区域

[x:Number] : 按钮图片的x起始坐标点

[y:Number] : 按钮图片的y起始坐标点

[width:Number] : 需要从起始点显示的宽度

[height:Number] : 需要从起始点显示的高度

**setClickHandler(method)** : 设置点击按钮回调事件

[method:Function] : 回调方法

**callClickHandler()** : 执行回调事件

**isActive()** : 是否可用

**isButtonTouched()** : 按钮是否触摸

在`img\system`文件下有一个ButtonSet.png的按钮图片文件，这是用于显示游戏中用到的几个按钮，我们可以在一个单独场景中显示:


```js
Scene_MySelf.prototype.create = function () {
    Scene_Base.prototype.create.call(this);
    m  = new Sprite_Button( )
    m.bitmap =  ImageManager.loadSystem('ButtonSet');
    m.setColdFrame(0, 0, 48,48);//设置没有点击的时候区域
    m.setHotFrame(48, 48, 48,48);//设置点击时的区域
    this.addChild(m);
}
```

上面在设置区域的时候都是48是由于ButtonSet图像含有10个小图，前4个按钮长宽均为48px最后一个96px。

***

<p id="p3"></p>

## Sprite_Character

Sprite_Character是游戏中显示角色人物或者事件类型已经地图的单位格子图像

**initMembers()** : 初始化成员数据

**setCharacter(character)** : 为其设置对应角色对象

[character:Game_Character]

**isTile()** : 是否是地图块

**tilesetBitmap(tileId)** : 返回对应id的地图块所需要的图块资源

**setTileBitmap(tileId)** : 设置图像的地图块

**setCharacterBitmap()** : 根据setCharacter设置的角色对象来加载图像

**setupAnimation()** : 播放动画

**isImageChanged()** : 图片源以及索引是否改变

**updateFrame()** : 更新帧方法

**updateTileFrame()** : 更新地图块

**updateCharacterFrame()** : 更新图像帧

**characterBlockX()** : 返回角色所在图片的X格子值

**characterBlockY()** : 返回角色所在图片的Y格子值

**createHalfBodySprites()** : 创建角色身体上下半图，有些地形需要将下半身透明，就是在这里实现的

**updatePosition()** : 更新角色位置

***

<p id="p4"></p>

## Sprite_Battler

Sprite_Battler是战斗界面中的角色和敌人对象精灵。是Sprite_Actor 和 Sprite_Enemy的父类。

**setBattler(battler)** : 设置渲染对象

[battler:Game_Battler] : 设置的渲染对象

**setHome(x,y)** : 设置位置

**setupDamagePopup()** : 初始化伤害弹出

**startMove(x, y, duration)** : 移动

***
<p id="p5"></p>

## Sprite_Actor

Sprite_Actor是用于展示战斗场景中的角色图。

**createMainSprite()** :创建角色主体精灵图像

**createShadowSprite()** : 创建角色阴影图像精灵

**createWeaponSprite()** : 创建角色使用武器图像精灵

**createStateSprite()** :创建状态图像精灵

**setBattler(battler)** : 设置渲染对象，同Sprite_Battler

**moveToStartPosition()** : 定位到开始位置300,0

**setActorHome(index)** : 根据index设置角色图片位置

[index:Number] : index为角色动画索引号

**setupMotion()** : 动作动画初始化

**setupWeaponAnimation()** : 武器动画初始化

**
<p id="p6"></p>

## Sprite_Enemy

Sprite_Enemy是战斗场景中敌人的图片精灵对象。

**createStateIconSprite()** : 创建状态图标

**setBattler(battler)** : 创建渲染对象，同Sprite_Battler

**loadBitmap(name, hue)** :  加载敌人对象图

[name:String] : 文件名称不含尾缀名

[hue:Number] : 色彩值

**startEffect(effectType)** : 展现动画效果

[effectType:String] 动画效果标志字符串








***
<p id="p7"></p>

## Sprite_Animation

Sprite_Animation 是游戏中动画渲染的精灵类，此动画为游戏数据库中渲染动画。
继承Sprite类。

**setup(target, animation, mirror, delay)** : 初始化数据

[target:Sprite] : 触发的精灵对象，多指自己对象本身

[animation:Object] : 动画编辑对象，$dataAnimations中的元素

[mirror:Boolean] : 镜像反转渲染？

[delay:Number] : 延时触发，单位帧数

**setupDuration()** : 初始化计数器，可重新播放动画

**absoluteX()** : 返回动画精灵的绝对x偏移

**absoluteY()** : 返回动画精灵的绝对y偏移

**isPlaying()** : 是否在播放中

**loadBitmaps()** : 加载纹理

***

<p id="p8"></p>

## Sprite_Damage

Sprite_Damage是战斗场景中弹出的伤害值精灵显示图像

**setup(target)** : 初始化启动

**digitWidth()** : 返回单位数字的宽度

**igitHeight()** : 返回单位数字的高度

**createMiss()** : 创建攻击时MISS提示的图像

**createDigits(baseRow, value)** : 创建数字图像

[baseRow:Number] : 基础行

[value:Number] : 数值









